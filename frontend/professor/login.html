<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Login do Professor - GT Jiu</title>
  <link rel="stylesheet" href="../css/style.css">
  <style>
    .login-container {
      max-width: 420px;
      margin: 80px auto;
      background: #181818;
      padding: 30px 25px;
      border-radius: 12px;
      text-align: left;
    }
    .login-container h1 {
      font-size: 24px;
      margin-bottom: 6px;
    }
    .login-container p.sub {
      margin: 0 0 20px 0;
      font-size: 14px;
      opacity: 0.8;
    }
    .field {
      margin-bottom: 15px;
    }
    .field label {
      display: block;
      margin-bottom: 4px;
      font-size: 13px;
      opacity: 0.9;
    }
    .field input {
      width: 100%;
      padding: 9px 10px;
      border-radius: 8px;
      border: none;
      background: #101010;
      color: #f5f5f5;
    }
    .acoes-login {
      margin-top: 20px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .link-menor {
      font-size: 13px;
      opacity: 0.8;
      margin-top: 10px;
      text-align: center;
    }
    .link-menor a {
      color: #ff6b4a;
      text-decoration: none;
    }
  </style>
</head>
<body>

<div class="container" style="padding-top:40px;">
  <div class="login-container">
    <h1>Login do Professor</h1>
    <p class="sub">
      Entre com o e-mail e a senha cadastrados para acessar o painel do professor.
    </p>

    <form onsubmit="handleLoginProfessor(event)">
      <div class="field">
        <label for="email">E-mail</label>
        <input id="email" type="email" placeholder="voce@email.com" required>
      </div>

      <div class="field">
        <label for="senha">Senha</label>
        <input id="senha" type="password" placeholder="Sua senha" required>
      </div>

      <div class="acoes-login">
        <button type="submit" class="btn">Entrar</button>
        <button type="button" class="btn" style="background:#444;" onclick="voltarInicio()">
          Voltar
        </button>
      </div>
    </form>

    <p class="link-menor">
      Ainda não tem cadastro? <a href="cadastro.html">Registrar professor</a>
    </p>
  </div>
</div>

<script>
  // Se já estiver logado, manda direto pro painel
  const profLogadoStr = localStorage.getItem('gtjiu_professor_logado');
  if (profLogadoStr) {
    // Já tem sessão salva
    // window.location.href = "./dashboard.html";
    // Se quiser já redirecionar, descomente a linha acima.
  }

  function voltarInicio() {
    // volta para a tela de escolha professor/aluno
    window.location.href = "../conteudo/academias.html";
  }

  function handleLoginProfessor(event) {
    event.preventDefault();

    const email = document.getElementById('email').value.trim();
    const senha = document.getElementById('senha').value.trim();

    if (!email || !senha) {
      alert("Preencha e-mail e senha.");
      return;
    }

    // Professores cadastrados localmente
    const professores = JSON.parse(localStorage.getItem('gtjiu_professores') || '[]');

    const prof = professores.find(p => p.email === email && p.senha === senha);

    if (!prof) {
      alert("E-mail ou senha inválidos. Verifique os dados ou faça o cadastro.");
      return;
    }

    // Salva sessão
    localStorage.setItem('gtjiu_professor_logado', JSON.stringify(prof));

    // Vai para o painel
    window.location.href = "./dashboard.html";
  }
</script>

</body>
</html>
